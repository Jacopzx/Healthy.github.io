<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Health Nutrition LINE Chatbot</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800">

  <!-- Navbar -->
  <header class="bg-white shadow">
    <div class="max-w-7xl mx-auto px-4 py-4 flex justify-between items-center">
      <h1 class="text-2xl font-bold">Health & Nutrition Bot</h1>
      <a href="#start" class="bg-green-500 hover:bg-green-600 text-white font-semibold px-4 py-2 rounded">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</a>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="text-center py-16 px-6">
    <h2 class="text-3xl md:text-4xl font-extrabold mb-4">‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏£‡∏∞‡∏ö‡∏ö LINE Chatbot ‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡πÅ‡∏•‡∏∞‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£</h2>
    <p class="text-lg md:text-xl text-gray-600 mb-6">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡∏£‡∏π‡πâ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ! ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏ô‡∏π ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô üçé‚ú®</p>
    <a href="#features" class="bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded">‡∏î‡∏π‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå</a>
  </section>

  <!-- Features Section -->
  <section id="features" class="max-w-7xl mx-auto py-12 px-4">
    <h3 class="text-3xl font-bold text-center mb-10">‚ú® ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏´‡∏•‡∏±‡∏Å</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
      <div class="bg-white p-6 rounded shadow">
        <h4 class="text-xl font-semibold mb-2">üì∑ ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h4>
        <p>‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏ú‡πà‡∏≤‡∏ô LINE Chatbot ‡∏á‡πà‡∏≤‡∏¢‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå.</p>
      </div>
      <div class="bg-white p-6 rounded shadow">
        <h4 class="text-xl font-semibold mb-2">üßê ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h4>
        <p>‡πÉ‡∏ä‡πâ AI ‡πÅ‡∏¢‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏à‡∏≤‡∏Å‡∏†‡∏≤‡∏û ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏´‡∏°‡∏π, ‡∏™‡πâ‡∏°‡∏ï‡∏≥‡πÑ‡∏ó‡∏¢.</p>
      </div>
      <div class="bg-white p-6 rounded shadow">
        <h4 class="text-xl font-semibold mb-2">üî• ‡∏ö‡∏≠‡∏Å‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h4>
        <p>‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô, ‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô, ‡πÑ‡∏Ç‡∏°‡∏±‡∏ô, ‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï ‡∏û‡∏£‡πâ‡∏≠‡∏° % Daily Value.</p>
      </div>
      <div class="bg-white p-6 rounded shadow">
        <h4 class="text-xl font-semibold mb-2">üìÖ ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h4>
        <p>‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ.</p>
      </div>
    </div>
  </section>

  <!-- How it Works -->
  <section id="how" class="bg-green-50 py-16 px-4">
    <h3 class="text-3xl font-bold text-center mb-10">‚úÖ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>
    <div class="max-w-4xl mx-auto space-y-6">
      <p>‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏±‡∏ö LINE Bot</p>
      <p>‚ûï ‡∏™‡πà‡∏á‡∏†‡∏≤‡∏û‡∏ñ‡πà‡∏≤‡∏¢‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>

      <!-- ‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÅ‡∏•‡∏∞‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û -->
      <div class="space-y-4">
        <video id="video" class="w-full" autoplay></video>
        <button id="capture" class="bg-green-500 hover:bg-green-600 text-white font-semibold px-6 py-3 rounded">‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û</button>
        <canvas id="canvas" class="hidden"></canvas>
        <p id="image-status" class="text-gray-600 mt-2"></p>
      </div>

      <p>‚ûï ‡∏£‡∏≠‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£ + ‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà + ‡∏™‡∏≤‡∏£‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
      <p id="loading-message" class="text-gray-600 mt-2 hidden">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏û...</p>

      <!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå -->
      <div id="result" class="hidden mt-4">
        <p class="text-lg text-green-500">‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≤‡∏´‡∏≤‡∏£: <span id="food-name"></span></p>
        <p class="text-lg">‡πÅ‡∏Ñ‡∏•‡∏≠‡∏£‡∏µ‡πà: <span id="calories"></span> kcal</p>
        <p class="text-lg">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô: <span id="protein"></span> g</p>
        <p class="text-lg">‡πÑ‡∏Ç‡∏°‡∏±‡∏ô: <span id="fat"></span> g</p>
        <p class="text-lg">‡∏Ñ‡∏≤‡∏£‡πå‡πÇ‡∏ö‡πÑ‡∏Æ‡πÄ‡∏î‡∏£‡∏ï: <span id="carbs"></span> g</p>
      </div>

      <!-- ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå -->
      <div class="mt-10">
        <h4 class="text-2xl font-bold mb-4">üìù ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå</h4>
        <ul id="history-list" class="list-disc list-inside text-left space-y-2"></ul>
      </div>

      <p>‚ûï ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ü‡∏£‡∏µ!</p>
    </div>
  </section>

  <!-- Footer -->
  <footer class="text-center text-gray-500 text-sm py-6">
    ¬© 2025 ‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÇ‡∏î‡∏¢ ‡∏ó‡∏µ‡∏° Health & Nutrition Bot
  </footer>

  <!-- Script Zone -->
  <script>
    const videoElement = document.getElementById('video');
    const captureButton = document.getElementById('capture');
    const canvasElement = document.getElementById('canvas');
    const imageStatus = document.getElementById('image-status');
    const loadingMessage = document.getElementById('loading-message');
    const resultSection = document.getElementById('result');
    const foodName = document.getElementById('food-name');
    const calories = document.getElementById('calories');
    const protein = document.getElementById('protein');
    const fat = document.getElementById('fat');
    const carbs = document.getElementById('carbs');
    const historyList = document.getElementById('history-list');

    let historyData = [];

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡πâ‡∏≠‡∏á
    navigator.mediaDevices.getUserMedia({ video: true })
      .then((stream) => {
        videoElement.srcObject = stream;
      })
      .catch((error) => {
        imageStatus.textContent = '‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ';
      });

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û
    captureButton.addEventListener('click', async () => {
      const context = canvasElement.getContext('2d');
      canvasElement.width = videoElement.videoWidth;
      canvasElement.height = videoElement.videoHeight;
      context.drawImage(videoElement, 0, 0, canvasElement.width, canvasElement.height);

      const imageBase64 = canvasElement.toDataURL('image/png').split(',')[1];

      imageStatus.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏†‡∏≤‡∏û‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå...';
      loadingMessage.classList.remove('hidden');

      try {
        // ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á mock ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
        const data = {
          name: '‡∏Ç‡πâ‡∏≤‡∏ß‡∏ú‡∏±‡∏î‡∏´‡∏°‡∏π',
          calories: 300,
          protein: 12,
          fat: 10,
          carbs: 45
        };

        await new Promise(resolve => setTimeout(resolve, 2000)); // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏à‡∏£‡∏¥‡∏á

        foodName.textContent = data.name;
        calories.textContent = data.calories;
        protein.textContent = data.protein;
        fat.textContent = data.fat;
        carbs.textContent = data.carbs;

        resultSection.classList.remove('hidden');
        loadingMessage.classList.add('hidden');

        historyData.push({
          name: data.name,
          calories: data.calories
        });
        updateHistory();
      } catch (error) {
        console.error('Error:', error);
        imageStatus.textContent = '‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå';
        loadingMessage.classList.add('hidden');
      }
    });

    // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏≠‡∏≤‡∏´‡∏≤‡∏£
    function updateHistory() {
      historyList.innerHTML = '';
      historyData.forEach(item => {
        const li = document.createElement('li');
        li.textContent = `${item.name} - ${item.calories} kcal`;
        historyList.appendChild(li);
      });
    }
  </script>

</body>
</html>
